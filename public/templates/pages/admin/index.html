<div ng-controller = "SurveyResultsController">
	
	<div class= "row">
		<div class="col-md-6 col-md-offset-3">	
			<new-survey surveys = "surveys" ng-show="showForm"></new-survey>
		</div>
	</div>

	<div class="row">	

	    <div class= "col-md-6 col-md-offset-3"> 
			<h3>Llista de consultes
				<a class="btn btn-info" ng-click="showForm = !showForm"><span class="glyphicon glyphicon-plus" ng-show ="!showForm"></span><span class="glyphicon glyphicon-minus" ng-show ="showForm"></span>
			</a></h3>		
			

			<ul class="list-group">
				 <li class="list-group-item" ng-repeat="survey in surveys | filter: {state: 2}" ng-class="getClass(survey)">
				 	<a ng-click="show = !show; selectSurvey(survey);" class = "darkGrey" >{{survey.title}}</a>
				 	<i class = "glyphicon glyphicon-ok gray pull-right"></i>
			 		<div ng-if="selectedSurvey === survey">
  						<survey-results ng-show = "show" survey="selectedSurvey" ></survey-results>
      				</div>	
				</li>
			</ul>
			<ul class="list-group">
				 <li class="list-group-item" ng-repeat="survey in surveys | filter: {state: 1}" ng-class="getClass(survey)">
				 	<a ng-click="show = !show; selectSurvey(survey);" class = "darkGrey" >{{survey.title}}</a>
				 	<i class = "glyphicon glyphicon-hourglass gray pull-right"></i>
			 		<div ng-if="selectedSurvey === survey">
		  				<survey-preview ng-show = "show" survey="selectedSurvey" ></survey-preview>
		 			</div> 	
				</li>
			</ul>
			<ul class="list-group">
				 <li class="list-group-item" ng-repeat="survey in surveys | filter: {state: 0}" ng-class="getClass(survey)">
				 	<a ng-click="show = !show; selectSurvey(survey);" class = "darkGrey" >{{survey.title}}</a>
				 	<a ng-click="removeSurvey(survey)">
	  						<span class="glyphicon glyphicon-remove gray pull-right"></span>
	  				</a>
			 		<div ng-if="selectedSurvey === survey">
		  				<survey-preview ng-show = "show" survey="selectedSurvey"></survey-preview>
		 			</div> 	
				</li>
			</ul>
		</div>

	</div>

</div>
